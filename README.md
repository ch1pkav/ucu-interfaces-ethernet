# Лабораторна робота "Мережева панель пристрою"

В цій лабораторній роботі було було зроблено невелику мережеву панель пристрою. Робота була виконана на STM32F411, яка відображає дані з GPS та BME280, BH1750 через простий веб-інтерфейс

## Як це працює?

Стмка тут виконує роль HTTP-сервера, що надає доступ до даних у двох форматах:
1.  JSON API (`GET /status`), тобто повертає поточні показники датчиків
2.  Web Dashboard (`GET /`) це статична HTML-сторінка, яка опитує API з частотою 1 Гц і відображає дані без потреби перезавантажувати сторінку

### Що було реалізовано:
1. **Ethernet підключення** використання модуля W5500
2. **Наконфігурена мережа** підтримка dhcp з автоматичним переходом на статичну ip, якщо dhcp раптом недоступний
3. **Оновлення даних в реальному часі** постійно оновлюємо сторінку

## Підключення

| Periph | STM32 Pin | Device Pin | Note |
|--------|-----------|------------|------|
| **SPI1** | PA5/PA6/PA7 | W5500 SCK/MISO/MOSI | Ethernet SPI |
| **CS** | PA4 | W5500 SCS | Chip Select |
| **I2C1** | PB6/PB7 | Sensors SCL/SDA | BME280, BH1750 |
| **UART1**| PA9/PA10 | GPS TX/RX | NMEA Data |


## АПІ референс

### GET /status

Повертає json об'єкт зі станом системи

**Приклад відповіді:**

```json
{
  "proto_ver": 1,
  "device_id": "bp-411-0007",
  "time_utc": "2025-08-23T12:34:56Z",
  "gps": {
    "lat": 49.8397,
    "lon": 24.0297,
    "fix": 3,
    "sats": 10
  },
  "env": {
    "t_c": 24.3,
    "p_hpa": 1007.8,
    "rh_pct": 47.2,
    "lux": 356
  },
  "stale_age_s": {
    "gps": 0.3,
    "env": 0.7
  }
}
